{"version":3,"sources":["src/js/main.js","../../src/js/app.component.js","../../src/js/common/dropdown/dropdown.directive.js","../../src/js/common/dropdown/dropdown-item.directive.js","../../src/js/common/utils/utils.js","../../src/js/environment.js","../../src/js/environment.static.js","../../src/js/environment.served.js","../../src/js/common/env/env.pipe.js","../../src/js/common/flag/flag.pipe.js","../../src/js/common/html/html.pipe.js","../../src/js/common/id/id.directive.js","../../src/js/common/label-for/label-for.directive.js","../../src/js/common/label/label.pipe.js","../../src/js/common/title/title.directive.js","../../src/js/common/common.module.js","../../src/js/controls/control.component.js","../../src/js/controls/control-checkbox.component.js","../../src/js/common/keyboard/keyboard.service.js","../../src/js/controls/control-custom-select.component.js","../../src/js/controls/control-file.component.js","../../src/js/controls/control-text.component.js","../../src/js/controls/errors.component.js","../../src/js/controls/test.component.js","../../src/js/controls/controls.module.js","../../src/js/urban-enter/urban-enter.component.js","../../src/js/common/http/http.service.js","../../src/js/controls/age.validator.js","../../src/js/controls/birth-date.validator.js","../../src/js/controls/form.service.js","../../src/js/urban-form/urban-form.component.js","../../src/js/urban-video/urban-video.component.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["g","f","exports","module","require","define","amd","globalThis","self","rxcomp","form","rxjs","operators","this","rxcompForm","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","AppComponent","_Component","apply","arguments","onInit","getContext","node","classList","remove","Component","meta","selector","DROPDOWN_ID","DropdownDirective","_Directive","_proto","_this","trigger","getAttribute","querySelector","opened","onClick","bind","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","pipe","takeUntil","unsubscribe$","subscribe","id","add","event","contains","addDocumentListeners","next","dropped","removeDocumentListeners","getValue","addEventListener","document","removeListeners","removeEventListener","onDestroy","nextId","get","dropdown","id_","Directive","inputs","outputs","BehaviorSubject","DropdownItemDirective","Utils","merge","source","keys","forEach","value","Array","isArray","NODE","BASE_HREF","URLSearchParams","window","location","search","HEROKU","host","indexOf","STATIC","port","DEVELOPMENT","split","ENV","PRODUCTION","Environment","options","assign","getAbsoluteUrl","path","params","url","origin","replace","getPath","isLocal","href","set","console","log","githubDocs","defaultOptions","flags","production","heroku","slug","markets","defaultMarket","currentMarket","languages","defaultLanguage","currentLanguage","labels","select","browse","cancel","error_email","error_match","error_required","loading","required","select_file","update","upload","drag_and_drop_images","environmentOptions","api","assets","workers","image","prefetch","configureProduct","reservedArea","template","modal","userModal","projectsRegistrationModal","materialsModal","marketsAndLanguagesModal","googleMaps","apiKey","thron","clientId","environment","EnvPipe","_Pipe","transform","keypath","env","k","shift","Pipe","name","FlagPipe","HtmlPipe","m","n","String","fromCharCode","parseInt","unescapes","rx","RegExp","join","IdDirective","onChanges","setAttribute","LabelForDirective","labelFor","LabelPipe","labels_","getKeys","_len","_key","map","x","setLabels","LABELS","TitleDirective","title_","title","removeAttribute","factories","pipes","CommonModule","_Module","Module","imports","declarations","concat","ControlComponent","control","ControlCheckboxComponent","_ControlComponent","label","setTouched","touched","obj","KeyboardService","keydown$","keydown$_","fromEvent","shareReplay","keyup$","keyup$_","keys$","keys$_","type","startWith","key$","key$_","regexp","filter","match","typing$","typing$_","to","typing","clearTimeout","setTimeout","ControlCustomSelectComponent","dropdownId","word","scrollToWord","items","index","toLowerCase","item","children","scrollTo","offsetTop","setOption","isMultiple","splice","push","slice","TypeError","_readOnlyError","change","hasOption","getLabel","v","find","onDropped","$event","multiple","ControlFileComponent","file","onReaderComplete","onInputDidChange","files","lastModified","lastModifiedDate","size","reader","FileReader","readAsDataURL","content","result","ControlTextComponent","disabled","ErrorsComponent","TestComponent","onTest","test","onReset","reset","ControlsModule","UrbanEnterComponent","onScroll","h","innerHeight","rect","getBoundingClientRect","Math","max","min","top","HttpService","http$","method","data","format","userPass","response_","headers","Accept","body","JSON","stringify","undefined","credentials","btoa","Headers","from","fetch","then","response","typedResponse","contentType","json","text","ok","Promise","reject","error","warn","resolve","catchError","throwError","getError","get$","query","delete$","post$","put$","patch$","object","status","statusCode","statusMessage","statusText","DATE_REGEXP","BirthDateValidator","FormValidator","Date","exec","NaN","parse","_","isValidDate","birthDate","valid","FormService","toSelectOptions","unshift","UrbanFormComponent","currentStep","success","years","FormGroup","step0","picture","FormControl","Validators","RequiredValidator","step1","firstName","lastName","date","now","getFullYear","getMonth","getDate","age","telephone","email","EmailValidator","address","city","province","userName","category","step2","parentFirstName","parentLastName","parentIdCard","parentTelephone","parentEmail","step3","rulesChecked","RequiredTrueValidator","privacyChecked","checkRequest","antiforgery","checkField","controls","changes$","pushChanges","onNext","group","isOfAge","onPrev","onSubmit","model","_this2","submitted","payload","first","option","patch","birthDateValue","UrbanVideoComponent","video","paused","play","pause","AppModule","CoreModule","FormModule","bootstrap","Browser"],"mappings":"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","file":"docs/js/main.min.js","sourcesContent":[null,"import { Component, getContext } from 'rxcomp';\n\nexport class AppComponent extends Component {\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tnode.classList.remove('hidden');\n\t}\n\n}\n\nAppComponent.meta = {\n\tselector: '[app-component]',\n};\n","import { Directive, getContext } from 'rxcomp';\nimport { BehaviorSubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nlet DROPDOWN_ID = 1000000;\n\nexport class DropdownDirective extends Directive {\n\n\tget id() {\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\n\t}\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\n\t\tthis.opened = null;\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\n\t\tthis.openDropdown = this.openDropdown.bind(this);\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\n\t\tthis.addListeners();\n\t\tDropdownDirective.dropdown$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(id => {\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\n\t\t\tif (this.id === id) {\n\t\t\t\tnode.classList.add('dropped');\n\t\t\t} else {\n\t\t\t\tnode.classList.remove('dropped');\n\t\t\t}\n\t\t});\n\t}\n\n\tonClick(event) {\n\t\tconst { node } = getContext(this);\n\t\tif (this.opened === null) {\n\t\t\tthis.openDropdown();\n\t\t} else {\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\n\t\t\t\tthis.closeDropdown();\n\t\t\t}\n\t\t}\n\t}\n\n\tonDocumentClick(event) {\n\t\tconst { node } = getContext(this);\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\n\t\tif (!clickedInside) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\topenDropdown() {\n\t\tif (this.opened === null) {\n\t\t\tthis.opened = true;\n\t\t\tthis.addDocumentListeners();\n\t\t\tDropdownDirective.dropdown$.next(this.id);\n\t\t\tthis.dropped.next(this.id);\n\t\t}\n\t}\n\n\tcloseDropdown() {\n\t\tif (this.opened !== null) {\n\t\t\tthis.removeDocumentListeners();\n\t\t\tthis.opened = null;\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\n\t\t\t\tDropdownDirective.dropdown$.next(null);\n\t\t\t\tthis.dropped.next(null);\n\t\t\t}\n\t\t}\n\t}\n\n\taddListeners() {\n\t\tthis.trigger.addEventListener('click', this.onClick);\n\t}\n\n\taddDocumentListeners() {\n\t\tdocument.addEventListener('click', this.onDocumentClick);\n\t}\n\n\tremoveListeners() {\n\t\tthis.trigger.removeEventListener('click', this.onClick);\n\t}\n\n\tremoveDocumentListeners() {\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t\tthis.removeDocumentListeners();\n\t}\n\n\tstatic nextId() {\n\t\treturn DROPDOWN_ID++;\n\t}\n\n}\n\nDropdownDirective.meta = {\n\tselector: '[dropdown]',\n\tinputs: ['dropdown', 'dropdown-trigger'],\n\toutputs: ['dropped']\n};\n\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\n","import { Directive, getContext } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport { DropdownDirective } from './dropdown.directive';\n\nexport class DropdownItemDirective extends Directive {\n\n\tget id() {\n\t\treturn this['dropdown-item'];\n\t}\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tnode.classList.add('dropdown-item');\n\t\tDropdownDirective.dropdown$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(id => {\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\n\t\t\tif (this.id === id) {\n\t\t\t\tnode.classList.add('dropped');\n\t\t\t} else {\n\t\t\t\tnode.classList.remove('dropped');\n\t\t\t}\n\t\t});\n\t}\n\n}\n\nDropdownItemDirective.meta = {\n\tselector: '[dropdown-item], [[dropdown-item]]',\n\tinputs: ['dropdown-item']\n};\n","\nexport class Utils {\n\n\tstatic merge(target, source) {\n\t\tif (typeof source === 'object') {\n\t\t\tObject.keys(source).forEach(key => {\n\t\t\t\tconst value = source[key];\n\t\t\t\tif (typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t\t\ttarget[key] = this.merge(target[key], value);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn target;\n\t}\n\n}\n","import { Utils } from './common/utils/utils';\nimport { environmentServed } from './environment.served';\nimport { environmentStatic } from './environment.static';\n\nexport const NODE = (typeof module !== 'undefined' && module.exports);\nexport const PARAMS = NODE ? { get: () => { } } : new URLSearchParams(window.location.search);\nexport const DEBUG = false || (PARAMS.get('debug') != null);\nexport const BASE_HREF = NODE ? null : document.querySelector('base').getAttribute('href');\nexport const HEROKU = NODE ? false : (window && window.location.host.indexOf('herokuapp') !== -1);\nexport const STATIC = NODE ? false : (HEROKU || (window && (window.location.port === '48481' || window.location.port === '5000' || window.location.port === '6443' || window.location.host === 'actarian.github.io')));\nexport const DEVELOPMENT = NODE ? false : (window && ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1);\nexport const PRODUCTION = !DEVELOPMENT;\nexport const ENV = {\n\tSTATIC,\n\tDEVELOPMENT,\n\tPRODUCTION\n};\n\nexport class Environment {\n\n\tget STATIC() {\n\t\treturn ENV.STATIC;\n\t}\n\tset STATIC(STATIC) {\n\t\tENV.STATIC = (STATIC === true || STATIC === 'true');\n\t\tconsole.log('Environment.STATIC.set', ENV.STATIC);\n\t}\n\n\tget href() {\n\t\tif (HEROKU) {\n\t\t\treturn this.githubDocs;\n\t\t} else {\n\t\t\treturn BASE_HREF;\n\t\t}\n\t}\n\n\tgetAbsoluteUrl(path, params) {\n\t\tlet url = `${window.location.origin}${path}`;\n\t\t// let url = `${window.location.protocol}//${window.location.host}${path}`;\n\t\tObject.keys(params).forEach(key => {\n\t\t\turl = url.replace(`$${key}`, params[key]);\n\t\t});\n\t\treturn url;\n\t}\n\n\tgetPath(path) {\n\t\treturn this.isLocal(path) ? (this.href + path) : path;\n\t}\n\n\tisLocal(path) {\n\t\treturn path.indexOf('://') === -1;\n\t}\n\n\tconstructor(options) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\t}\n}\n\nconst defaultOptions = {\n\tport: 5000,\n\tflags: {\n\t\tproduction: false,\n\t\theroku: HEROKU,\n\t},\n\tslug: {},\n\tmarkets: ['IT', 'EU', 'AM', 'AS', 'IN'],\n\tdefaultMarket: 'IT',\n\tcurrentMarket: 'IT',\n\tlanguages: ['it', 'en'],\n\tdefaultLanguage: 'it',\n\tcurrentLanguage: 'it',\n\tlabels: {\n\t\tselect: 'Seleziona',\n\t\tbrowse: 'Sfoglia',\n\t\tcancel: 'Annulla',\n\t\terror_email: 'Email non valida',\n\t\terror_match: 'I campi non corrispondono',\n\t\terror_required: 'Campo obbligatorio',\n\t\tloading: 'caricamento',\n\t\tremove: 'Rimuovi',\n\t\trequired: 'Richiesto',\n\t\tselect_file: 'Seleziona il file',\n\t\tupdate: 'Aggiorna',\n\t\tupload: 'Carica',\n\t\tdrag_and_drop_images: 'Drag And Drop your images here',\n\t}\n};\n\nconst environmentOptions = window.STATIC ? environmentStatic : environmentServed;\n\nlet options = Object.assign(defaultOptions, environmentOptions);\noptions = Utils.merge(options, window.environment);\n\nexport const environment = new Environment(options);\n\nconsole.log('environment', environment);\n","\nexport const environmentStatic = {\n\tflags: {\n\t\tproduction: false,\n\t},\n\tmarkets: ['IT', 'EU', 'AM', 'AS', 'IN'],\n\tdefaultMarket: 'IT',\n\tcurrentMarket: 'IT',\n\tlanguages: ['it', 'en', 'de', 'ch'],\n\tdefaultLanguage: 'it',\n\tcurrentLanguage: 'it',\n\tapi: '/giorgetti/api',\n\tassets: '/giorgetti/',\n\tworkers: {\n\t\timage: './js/workers/image.service.worker.js',\n\t\tprefetch: './js/workers/prefetch.service.worker.js',\n\t},\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/giorgetti/main/docs/',\n\tslug: {\n\t\tconfigureProduct: `/giorgetti/products-configure.html`,\n\t\treservedArea: `/giorgetti/reserved-area.html`,\n\t},\n\ttemplate: {\n\t\tmodal: {\n\t\t\tuserModal: '/giorgetti/user-modal.html',\n\t\t\tprojectsRegistrationModal: '/giorgetti/projects-registration-modal.html',\n\t\t\tmaterialsModal: '/giorgetti/materials-modal.html',\n\t\t\tmarketsAndLanguagesModal: '/giorgetti/markets-and-languages-modal.html',\n\t\t}\n\t},\n\tgoogleMaps: {\n\t\tapiKey: 'AIzaSyAIsa4g8z-HPPwohsf8jzVTbKw-DiI8k5w',\n\t},\n\tthron: {\n\t\tclientId: '',\n\t}\n};\n","\nexport const environmentServed = {\n\tflags: {\n\t\tproduction: true,\n\t},\n\tmarkets: ['IT', 'EU', 'AM', 'AS', 'IN'],\n\tdefaultMarket: 'IT',\n\tcurrentMarket: 'IT',\n\tlanguages: ['it', 'en', 'de', 'ch'],\n\tdefaultLanguage: 'it',\n\tcurrentLanguage: 'it',\n\tapi: '/Client/docs/api',\n\tassets: '/Client/docs/',\n\tworkers: {\n\t\timage: '/Client/docs/js/workers/image.service.worker.js',\n\t\tprefetch: '/Client/docs/js/workers/prefetch.service.worker.js',\n\t},\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/giorgetti/main/docs/',\n\tslug: {\n\t\tconfigureProduct: `/Client/docs/products-configure.html`,\n\t\treservedArea: `/Client/docs/reserved-area.html`,\n\t},\n\ttemplate: {\n\t\tmodal: {\n\t\t\tuserModal: '/template/modals/user-modal.cshtml',\n\t\t\tprojectsRegistrationModal: '/template/modals/projects-registration-modal.cshtml',\n\t\t\tmaterialsModal: '/template/modals/materials-modal.cshtml',\n\t\t\tmarketsAndLanguagesModal: '/template/modals/markets-and-languages-modal.html',\n\t\t}\n\t},\n\tgoogleMaps: {\n\t\tapiKey: 'AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60',\n\t},\n\tthron: {\n\t\tclientId: '',\n\t}\n};\n","import { Pipe } from 'rxcomp';\nimport { environment } from '../../environment';\n\nexport class EnvPipe extends Pipe {\n\n\tstatic transform(keypath) {\n\t\tlet env = environment;\n\t\tconst keys = keypath.split('.');\n\t\tlet k = keys.shift();\n\t\twhile (keys.length > 0 && env[k]) {\n\t\t\tenv = env[k];\n\t\t\tk = keys.shift();\n\t\t}\n\t\tconst value = env[k] || null;\n\t\treturn value;\n\t}\n\n}\n\nEnvPipe.meta = {\n\tname: 'env',\n};\n","import { Pipe } from 'rxcomp';\nimport { environment } from '../../environment';\n\nexport class FlagPipe extends Pipe {\n\n\tstatic transform(key) {\n\t\tconst flags = environment.flags;\n\t\treturn flags[key] || false;\n\t}\n\n}\n\nFlagPipe.meta = {\n\tname: 'flag',\n};\n","import { Pipe } from 'rxcomp';\n\n/*\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\n['\"', '&', ''', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\n*/\n\nexport class HtmlPipe extends Pipe {\n\n\tstatic transform(value) {\n\t\tif (value) {\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\n\t\t\t\treturn String.fromCharCode(parseInt(n));\n\t\t\t});\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\n\t\t\tvalue = value.replace(rx, function() {\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\t\tif (arguments[i]) {\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\n\t\t\t\t\t\treturn unescapes[i - 1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// console.log(value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n}\n\nHtmlPipe.meta = {\n\tname: 'html',\n};\n","import { Directive, getContext } from 'rxcomp';\n\nexport class IdDirective extends Directive {\n\n\tonChanges() {\n\t\tconst { node } = getContext(this);\n\t\tnode.setAttribute('id', this.id);\n\t}\n\n}\n\nIdDirective.meta = {\n\tselector: '[id]',\n\tinputs: ['id']\n};\n","import { Directive, getContext } from 'rxcomp';\n\nexport class LabelForDirective extends Directive {\n\n\tonChanges() {\n\t\tconst { node } = getContext(this);\n\t\tnode.setAttribute('for', this.labelFor);\n\t}\n\n}\n\nLabelForDirective.meta = {\n\tselector: '[labelFor]',\n\tinputs: ['labelFor']\n};\n","import { Pipe } from 'rxcomp';\nimport { environment } from '../../environment';\nimport { Utils } from '../utils/utils';\n\nexport class LabelPipe extends Pipe {\n\n\tstatic transform(key) {\n\t\tconst labels = LabelPipe.labels_;\n\t\treturn labels[key] || key; // `#${key}#`;\n\t}\n\n\tstatic getKeys(...keys) {\n\t\treturn LabelPipe.transform(keys.map(x => x.replace('-', '_')).join('_'));\n\t}\n\n\tstatic setLabels() {\n\t\tconst LABELS = Utils.merge({\n\t\t\tselect: 'Seleziona',\n\t\t\tbrowse: 'Sfoglia',\n\t\t\tcancel: 'Annulla',\n\t\t\terror_email: 'Email non valida',\n\t\t\terror_match: 'I campi non corrispondono',\n\t\t\terror_required: 'Campo obbligatorio',\n\t\t\tloading: 'caricamento',\n\t\t\tremove: 'Rimuovi',\n\t\t\trequired: 'Richiesto',\n\t\t\tselect_file: 'Seleziona il file',\n\t\t\tupdate: 'Aggiorna',\n\t\t\tupload: 'Carica',\n\t\t\tdrag_and_drop_images: 'Drag And Drop your images here',\n\t\t}, environment.labels);\n\t\tthis.labels_ = LABELS;\n\t}\n}\n\nLabelPipe.setLabels();\n\nLabelPipe.meta = {\n\tname: 'label',\n};\n","import { Directive, getContext } from 'rxcomp';\n\nexport class TitleDirective extends Directive {\n\tset title(title) {\n\t\tif (this.title_ !== title) {\n\t\t\tthis.title_ = title;\n\t\t\tconst { node } = getContext(this);\n\t\t\ttitle ? node.setAttribute('title', title) : node.removeAttribute('title');\n\t\t}\n\t}\n\tget title() {\n\t\treturn this.title_;\n\t}\n}\n\nTitleDirective.meta = {\n\tselector: '[[title]]',\n\tinputs: ['title'],\n};\n","import { Module } from 'rxcomp';\nimport { DropdownItemDirective } from './dropdown/dropdown-item.directive';\nimport { DropdownDirective } from './dropdown/dropdown.directive';\nimport { EnvPipe } from './env/env.pipe';\nimport { FlagPipe } from './flag/flag.pipe';\nimport { HtmlPipe } from './html/html.pipe';\nimport { IdDirective } from './id/id.directive';\nimport { LabelForDirective } from './label-for/label-for.directive';\nimport { LabelPipe } from './label/label.pipe';\nimport { TitleDirective } from './title/title.directive';\n\nconst factories = [\n\tDropdownDirective,\n\tDropdownItemDirective,\n\tIdDirective,\n\tLabelForDirective,\n\tTitleDirective,\n];\n\nconst pipes = [\n\tEnvPipe,\n\tFlagPipe,\n\tHtmlPipe,\n\tLabelPipe,\n];\n\nexport class CommonModule extends Module { }\n\nCommonModule.meta = {\n\timports: [\n\t],\n\tdeclarations: [\n\t\t...factories,\n\t\t...pipes,\n\t],\n\texports: [\n\t\t...factories,\n\t\t...pipes,\n\t],\n};\n","import { Component, getContext } from 'rxcomp';\n\nexport class ControlComponent extends Component {\n\n\tonChanges() {\n\t\tconst { node } = getContext(this);\n\t\t// console.log(this, node, this.control);\n\t\tconst control = this.control;\n\t\tconst flags = control.flags;\n\t\tObject.keys(flags).forEach((key) => {\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\n\t\t});\n\t}\n\n}\n\nControlComponent.meta = {\n\tselector: '[control]',\n\tinputs: ['control']\n};\n","import { ControlComponent } from './control.component';\n\nexport class ControlCheckboxComponent extends ControlComponent {\n\n\tonInit() {\n\t\tthis.label = this.label || 'label';\n\t}\n\n\tsetTouched(event) {\n\t\tthis.control.touched = true;\n\t}\n}\n\nControlCheckboxComponent.meta = {\n\tselector: '[control-checkbox]',\n\tinputs: ['control', 'label'],\n\ttemplate: /* html */ `\n\t\t<div class=\"group--checkbox\" [class]=\"{ required: control.validators.length }\">\n\t\t\t<input type=\"checkbox\" class=\"control\" [id]=\"control.name\" [formControl]=\"control\" [value]=\"true\" />\n\t\t\t<label [labelFor]=\"control.name\" (click)=\"setTouched($event)\">\n\t\t\t\t<svg class=\"icon icon--checkbox\"><use xlink:href=\"#checkbox\"></use></svg>\n\t\t\t\t<svg class=\"icon icon--checkbox-checked\"><use xlink:href=\"#checkbox-checked\"></use></svg>\n\t\t\t\t<span [innerHTML]=\"label | html\"></span>\n\t\t\t</label>\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\n\t\t</div>\n\t\t<errors-component [control]=\"control\"></errors-component>\n\t`\n};\n","import { fromEvent, merge } from 'rxjs';\nimport { filter, map, shareReplay, startWith } from 'rxjs/operators';\n\nexport class KeyboardService {\n\n\tstatic keys = {};\n\n\tstatic keydown$() {\n\t\tif (!this.keydown$_) {\n\t\t\tthis.keydown$_ = fromEvent(window, 'keydown').pipe(\n\t\t\t\tshareReplay(1),\n\t\t\t);\n\t\t}\n\t\treturn this.keydown$_;\n\t}\n\n\tstatic keyup$() {\n\t\tif (!this.keyup$_) {\n\t\t\tthis.keyup$_ = fromEvent(window, 'keyup').pipe(\n\t\t\t\tshareReplay(1),\n\t\t\t);\n\t\t}\n\t\treturn this.keyup$_;\n\t}\n\n\tstatic keys$() {\n\t\tif (!this.keys$_) {\n\t\t\tthis.keys$_ = merge(this.keydown$(), this.keyup$()).pipe(\n\t\t\t\tmap(event => {\n\t\t\t\t\tconst keys = this.keys;\n\t\t\t\t\tif (event.type === 'keydown') {\n\t\t\t\t\t\tkeys[event.key] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete keys[event.key];\n\t\t\t\t\t}\n\t\t\t\t\treturn this.keys;\n\t\t\t\t}),\n\t\t\t\tstartWith(this.keys),\n\t\t\t\tshareReplay(1),\n\t\t\t)\n\t\t}\n\t\treturn this.keys$_;\n\t}\n\n\tstatic key$() {\n\t\tif (!this.key$_) {\n\t\t\tconst regexp = /\\w/;\n\t\t\tthis.key$_ = this.keydown$().pipe(\n\t\t\t\tfilter(event => event.key && event.key.match(regexp)),\n\t\t\t\tmap(event => event.key),\n\t\t\t\tshareReplay(1),\n\t\t\t)\n\t\t}\n\t\treturn this.key$_;\n\t}\n\n\tstatic typing$() {\n\t\tif (!this.typing$_) {\n\t\t\tlet typing = '',\n\t\t\t\tto;\n\t\t\tthis.typing$_ = this.key$().pipe(\n\t\t\t\tmap(key => {\n\t\t\t\t\tif (to) {\n\t\t\t\t\t\tclearTimeout(to);\n\t\t\t\t\t}\n\t\t\t\t\ttyping += key;\n\t\t\t\t\tto = setTimeout(() => {\n\t\t\t\t\t\ttyping = '';\n\t\t\t\t\t}, 1500);\n\t\t\t\t\treturn typing;\n\t\t\t\t}),\n\t\t\t\tshareReplay(1),\n\t\t\t)\n\t\t}\n\t\treturn this.typing$_;\n\t}\n\n}\n","import { getContext } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport { DropdownDirective } from '../common/dropdown/dropdown.directive';\nimport { KeyboardService } from '../common/keyboard/keyboard.service';\nimport { ControlComponent } from './control.component';\n\nexport class ControlCustomSelectComponent extends ControlComponent {\n\n\tonInit() {\n\t\tthis.label = this.label || 'label';\n\t\tthis.dropped = false;\n\t\tthis.dropdownId = DropdownDirective.nextId();\n\t\tKeyboardService.typing$().pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(word => {\n\t\t\tthis.scrollToWord(word);\n\t\t});\n\t}\n\n\tscrollToWord(word) {\n\t\t// console.log('ControlCustomSelectComponent.scrollToWord', word);\n\t\tconst items = this.control.options || [];\n\t\tlet index = -1;\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tconst x = items[i];\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\n\t\t\t\t// console.log(word, x.name);\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (index !== -1) {\n\t\t\tconst { node } = getContext(this);\n\t\t\tconst dropdown = node.querySelector('.dropdown');\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\n\t\t\tconst item = navDropdown.children[index];\n\t\t\tdropdown.scrollTo(0, item.offsetTop);\n\t\t}\n\t}\n\n\tsetOption(item) {\n\t\t// console.log('setOption', item, this.isMultiple);\n\t\tlet value;\n\t\tif (this.isMultiple) {\n\t\t\tconst value = this.control.value || [];\n\t\t\tconst index = value.indexOf(item.id);\n\t\t\tif (index !== -1) {\n\t\t\t\t// if (value.length > 1) {\n\t\t\t\tvalue.splice(index, 1);\n\t\t\t\t// }\n\t\t\t} else {\n\t\t\t\tvalue.push(item.id);\n\t\t\t}\n\t\t\tvalue = value.length ? value.slice() : null;\n\t\t} else {\n\t\t\tvalue = item.id;\n\t\t\t// DropdownDirective.dropdown$.next(null);\n\t\t}\n\t\tthis.control.value = value;\n\t\tthis.change.next(value);\n\t}\n\n\thasOption(item) {\n\t\tif (this.isMultiple) {\n\t\t\tconst values = this.control.value || [];\n\t\t\treturn values.indexOf(item.id) !== -1;\n\t\t} else {\n\t\t\treturn this.control.value === item.id;\n\t\t}\n\t}\n\n\tgetLabel() {\n\t\tlet value = this.control.value;\n\t\tconst items = this.control.options || [];\n\t\tif (this.isMultiple) {\n\t\t\tvalue = value || [];\n\t\t\tif (value.length) {\n\t\t\t\treturn value.map(v => {\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\n\t\t\t\t\treturn item ? item.name : '';\n\t\t\t\t}).join(', ');\n\t\t\t} else {\n\t\t\t\treturn this.select || 'select'; // LabelPipe.transform('select');\n\t\t\t}\n\t\t} else {\n\t\t\tconst item = value ? items.find(x => x.id === value || x.name === value) : null;\n\t\t\tif (item) {\n\t\t\t\treturn item.name;\n\t\t\t} else {\n\t\t\t\treturn this.select || 'select'; // LabelPipe.transform('select');\n\t\t\t}\n\t\t}\n\t}\n\n\tonDropped($event) {\n\t\t// console.log('ControlCustomSelectComponent.onDropped', id);\n\t\tif (this.dropped && $event === null) {\n\t\t\tthis.control.touched = true;\n\t\t}\n\t\tthis.dropped = $event === this.dropdownId;\n\t}\n\n\tget isMultiple() {\n\t\treturn this.multiple && this.multiple !== false && this.multiple !== 'false';\n\t}\n\n}\n\nControlCustomSelectComponent.meta = {\n\tselector: '[control-custom-select]',\n\toutputs: ['change'],\n\tinputs: ['control', 'label', 'multiple', 'select'],\n\ttemplate: /* html */ `\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length, multiple: isMultiple }\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\n\t\t\t<label [innerHTML]=\"label\"></label>\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\n\t\t\t<div class=\"group--control-select\">\n\t\t\t\t<span class=\"control--custom-select\" [innerHTML]=\"getLabel() | label\"></span>\n\t\t\t\t<svg class=\"caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\n\t\t\t</div>\n\t\t</div>\n\t\t<errors-component [control]=\"control\"></errors-component>\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: isMultiple }\">\n\t\t\t\t<li (click)=\"setOption(item)\" [class]=\"{ empty: item.id == null }\" *for=\"let item of control.options\">\n\t\t\t\t\t<span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name | label\"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t`\n};\n","import { ControlComponent } from './control.component';\n\nexport class ControlFileComponent extends ControlComponent {\n\n\tonInit() {\n\t\tthis.label = this.label || 'label';\n\t\tthis.labels = window.labels || {};\n\t\tthis.file = null;\n\t\tthis.onReaderComplete = this.onReaderComplete.bind(this);\n\t}\n\n\tonInputDidChange(event) {\n\t\tconst input = event.target;\n\t\tconst file = input.files[0];\n\t\tthis.file = {\n\t\t\tname: file.name,\n\t\t\tlastModified: file.lastModified,\n\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\tsize: file.size,\n\t\t\ttype: file.type,\n\t\t}\n\t\tconst reader = new FileReader();\n\t\treader.addEventListener('load', this.onReaderComplete);\n\t\treader.readAsDataURL(file);\n\t\t// reader.readAsArrayBuffer() // Starts reading the contents of the specified Blob, once finished, the result attribute contains an ArrayBuffer representing the file's data.\n\t\t// reader.readAsBinaryString() // Starts reading the contents of the specified Blob, once finished, the result attribute contains the raw binary data from the file as a string.\n\t\t// reader.readAsDataURL() // Starts reading the contents of the specified Blob, once finished, the result attribute contains a data: URL representing the file's data.\n\t\t// reader.readAsText() // Starts reading the contents of the specified Blob, once finished, the result attribute contains the contents of the file as a text string. An optional encoding name can be specified.\n\t}\n\n\tonReaderComplete(event) {\n\t\tconst content = event.target.result;\n\t\tthis.file.content = content;\n\t\tthis.control.value = this.file;\n\t\t// console.log('ControlFileComponent.onReaderComplete', this.file);\n\t\t// image/*,\n\t}\n\n}\n\nControlFileComponent.meta = {\n\tselector: '[control-file]',\n\tinputs: ['control', 'label'],\n\ttemplate: /* html */ `\n\t\t<div class=\"group--control group--control--file\" [class]=\"{ required: control.validators.length }\">\n\t\t\t<input name=\"file\" type=\"file\" id=\"picture\" accept=\".jpg,.jpgeg,.png,.tiff\" class=\"control--file\" (change)=\"onInputDidChange($event)\" />\n\t\t\t<div class=\"control\" [innerHTML]=\"file?.name || ('select_file' | label)\"></div>\n\t\t\t<button type=\"button\" class=\"btn btn--file\" [innerHTML]=\"'upload' | label\"></button>\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\n\t\t</div>\n\t\t<errors-component [control]=\"control\"></errors-component>\n\t`\n};\n","import { ControlComponent } from './control.component';\n\nexport class ControlTextComponent extends ControlComponent {\n\n\tonInit() {\n\t\tthis.label = this.label || 'label';\n\t\tthis.disabled = this.disabled || false;\n\t}\n\n}\n\nControlTextComponent.meta = {\n\tselector: '[control-text]',\n\tinputs: ['control', 'label', 'disabled'],\n\ttemplate: /* html */ `\n\t\t<div class=\"group--control\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\n\t\t\t<label [innerHTML]=\"label\"></label>\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\n\t\t\t<input type=\"text\" class=\"control\" [formControl]=\"control\" [placeholder]=\"label\" [disabled]=\"disabled\" />\n\t\t</div>\n\t\t<errors-component [control]=\"control\"></errors-component>\n\t`\n};\n","import { LabelPipe } from '../common/label/label.pipe';\nimport { ControlComponent } from './control.component';\n\nexport class ErrorsComponent extends ControlComponent {\n\n\tgetLabel(key, value) {\n\t\tconst label = LabelPipe.transform(`error_${key}`);\n\t\treturn label;\n\t}\n\n}\n\nErrorsComponent.meta = {\n\tselector: 'errors-component',\n\tinputs: ['control'],\n\ttemplate: /* html */ `\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\n\t\t</div>\n\t</div>\n\t`\n};\n","import { Component } from 'rxcomp';\n\nexport class TestComponent extends Component {\n\n\tonTest(event) {\n\t\tthis.test.next(event);\n\t}\n\n\tonReset(event) {\n\t\tthis.reset.next(event);\n\t}\n\n}\n\nTestComponent.meta = {\n\tselector: 'test-component',\n\tinputs: ['form'],\n\toutputs: ['test', 'reset'],\n\ttemplate: /* html */ `\n\t<div class=\"test-component\" *if=\"!('production' | flag)\">\n\t\t<div class=\"test-component__title\">development mode</div>\n\t\t<code [innerHTML]=\"form.value | json\"></code>\n\t\t<button type=\"button\" class=\"btn--submit\" (click)=\"onTest($event)\"><span>test</span></button>\n\t\t<button type=\"button\" class=\"btn--submit\" (click)=\"onReset($event)\"><span>reset</span></button>\n\t</div>\n\t`\n};\n","import { Module } from 'rxcomp';\nimport { ControlCheckboxComponent } from './control-checkbox.component';\nimport { ControlCustomSelectComponent } from './control-custom-select.component';\nimport { ControlFileComponent } from './control-file.component';\nimport { ControlTextComponent } from './control-text.component';\nimport { ErrorsComponent } from './errors.component';\nimport { TestComponent } from './test.component';\n\nconst factories = [\n\tControlCheckboxComponent,\n\tControlCustomSelectComponent,\n\tControlFileComponent,\n\tControlTextComponent,\n\tErrorsComponent,\n\tTestComponent,\n];\n\nconst pipes = [\n];\n\nexport class ControlsModule extends Module { }\n\nControlsModule.meta = {\n\timports: [\n\t],\n\tdeclarations: [\n\t\t...factories,\n\t\t...pipes,\n\t],\n\texports: [\n\t\t...factories,\n\t\t...pipes,\n\t],\n};\n","import { Component, getContext } from 'rxcomp';\n\nexport class UrbanEnterComponent extends Component {\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tthis.node = node;\n\t\tthis.onScroll = this.onScroll.bind(this);\n\t\twindow.addEventListener('scroll', this.onScroll);\n\t\tthis.onScroll();\n\t}\n\n\tonDestroy() {\n\t\twindow.removeEventListener('scroll', this.onScroll);\n\t}\n\n\tonScroll() {\n\t\tconst w = window.innerWidth;\n\t\tconst h = window.innerHeight;\n\t\tconst node = this.node;\n\t\tconst rect = node.getBoundingClientRect();\n\t\tlet pow = Math.max(0, Math.min(1, 1 - (rect.top - h / 2) / (h / 2)));\n\t\tif (pow > 0) {\n\t\t\tnode.classList.add('enter');\n\t\t} else {\n\t\t\tnode.classList.remove('enter');\n\t\t}\n\t}\n}\n\nUrbanEnterComponent.meta = {\n\tselector: '[urban-enter]',\n};\n","import { from, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nexport class HttpResponse {\n\n\tget static() {\n\t\treturn this.url.indexOf('.json') === this.url.length - 5;\n\t}\n\n\tconstructor(response) {\n\t\tthis.data = null;\n\t\tif (response) {\n\t\t\tthis.url = response.url;\n\t\t\tthis.status = response.status;\n\t\t\tthis.statusText = response.statusText;\n\t\t\tthis.ok = response.ok;\n\t\t\tthis.redirected = response.redirected;\n\t\t}\n\t}\n}\n\nexport class HttpService {\n\n\tstatic http$(method, url, data, format = 'json', userPass = null) {\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\n\t\tlet response_ = null;\n\t\t// url = this.getUrl(url, format);\n\t\tconst options = {\n\t\t\tmethod: method,\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\n\t\t}\n\t\tif (userPass) {\n\t\t\t// options.mode = 'no-cors';\n\t\t\toptions.credentials = 'include';\n\t\t\tuserPass = window.btoa(userPass);\n\t\t\toptions.headers['Authorization'] = `Basic ${userPass}`;\n\t\t}\n\t\toptions.headers = new Headers(options.headers);\n\t\treturn from(fetch(url, options).then((response) => {\n\t\t\tresponse_ = response;\n\t\t\t// console.log(response);\n\t\t\ttry {\n\t\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\t\tlet typedResponse;\n\t\t\t\tif (contentType && contentType.indexOf('application/json') !== -1) {\n\t\t\t\t\ttypedResponse = response.json();\n\t\t\t\t} else {\n\t\t\t\t\ttypedResponse = response.text();\n\t\t\t\t}\n\t\t\t\tif (response.ok) {\n\t\t\t\t\treturn typedResponse;\n\t\t\t\t} else {\n\t\t\t\t\treturn typedResponse.then(data => {\n\t\t\t\t\t\treturn Promise.reject(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t}\n\t\t\t}\n\t\t})).pipe(\n\t\t\tcatchError(error => {\n\t\t\t\treturn throwError(this.getError(error, response_));\n\t\t\t})\n\t\t);\n\t}\n\n\t/*\n\t// !!! todo mapping response.data\n\tstatic http$(method, url, data, format = 'json') {\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\n\t\tconst body = (data && methods.indexOf(method) !== -1) ? JSON.stringify(data) : undefined;\n\t\tconst queryString = (data && methods.indexOf(method) !== -1) ? Object.keys(data).map(function(key) {\n\t\t\treturn key + '=' + encodeURI(data[key]);\n\t\t}).join('&') : undefined;\n\t\tif (queryString) {\n\t\t\turl = `${url}?${queryString}`;\n\t\t}\n\t\tlet response_ = null;\n\t\treturn from(fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: body,\n\t\t}).then((response) => {\n\t\t\tresponse_ = new HttpResponse(response);\n\t\t\ttry {\n\t\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\t\tlet typedResponse;\n\t\t\t\tif (contentType && format === 'json' && contentType.indexOf('application/json') !== -1) {\n\t\t\t\t\ttypedResponse = response.json();\n\t\t\t\t} else if (format === 'blob') {\n\t\t\t\t\ttypedResponse = response.blob();\n\t\t\t\t} else {\n\t\t\t\t\ttypedResponse = response.text();\n\t\t\t\t}\n\t\t\t\treturn typedResponse.then(data => {\n\t\t\t\t\tresponse_.data = data;\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\treturn Promise.resolve(response_);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(response_);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch(error) {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\n\t\t\t\t\treturn Promise.resolve(response_);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(this.getError(error, response_));\n\t\t\t\t}\n\t\t\t}\n\t\t})).pipe(\n\t\t\tcatchError(error => {\n\t\t\t\treturn throwError(this.getError(error, response_));\n\t\t\t}),\n\t\t);\n\t}\n\t*/\n\n\tstatic get$(url, data, format) {\n\t\tconst query = this.query(data);\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\n\t}\n\n\tstatic delete$(url) {\n\t\treturn this.http$('DELETE', url);\n\t}\n\n\tstatic post$(url, data) {\n\t\treturn this.http$('POST', url, data);\n\t}\n\n\tstatic put$(url, data) {\n\t\treturn this.http$('PUT', url, data);\n\t}\n\n\tstatic patch$(url, data) {\n\t\treturn this.http$('PATCH', url, data);\n\t}\n\n\tstatic query(data) {\n\t\treturn ''; // todo\n\t}\n\n\tstatic getError(object, response) {\n\t\tlet error = typeof object === 'object' ? object : {};\n\t\tif (!error.status) {\n\t\t\terror.status = response ? response.status : 0;\n\t\t}\n\t\tif (!error.statusCode) {\n\t\t\terror.statusCode = response ? response.status : 0;\n\t\t}\n\t\tif (!error.statusMessage) {\n\t\t\terror.statusMessage = response ? response.statusText : object;\n\t\t}\n\t\t// console.log('HttpService.getError', error, object);\n\t\treturn error;\n\t}\n\n}\n","import { FormValidator } from 'rxcomp-form';\n\nexport const DATE_REGEXP = new RegExp(/^(\\d{1,2})[\\/|\\-|\\s](\\d{1,2})[\\/|\\-|\\s](\\d{4})$/);\n\nexport default function AgeValidator(years) {\n\n\treturn new FormValidator((value) => {\n\t\tif (!value) {\n\t\t\treturn null;\n\t\t}\n\t\tlet date;\n\t\tif (value instanceof Date) {\n\t\t\tdate = value;\n\t\t} else {\n\t\t\tconst match = DATE_REGEXP.exec(value);\n\t\t\tif (!match) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tdate = new Date(`${match[2]}/${match[1]}/${match[3]}`);\n\t\t}\n\t\tconst now = new Date();\n\t\tif (now.getFullYear() - date.getFullYear() > years ||\n\t\t\t(now.getFullYear() - date.getFullYear() == years && now.getMonth() - date.getMonth() > 0) ||\n\t\t\t(now.getFullYear() - date.getFullYear() == years && now.getMonth() - date.getMonth() == 0 && now.getDate() - date.getDate() >= 0)) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tage: years\n\t\t\t}\n\t\t};\n\t});\n\n}\n","import { FormValidator } from 'rxcomp-form';\n\nexport const DATE_REGEXP = new RegExp(/^(\\d{1,2})[\\/|\\-|\\s](\\d{1,2})[\\/|\\-|\\s](\\d{4})$/);\n\nfunction isValidDate(value, match) {\n\ttry {\n\t\treturn Date.parse(value) !== NaN;\n\t} catch (_) {\n\t\ttry {\n\t\t\treturn Date.parse(`${match[2]}/${match[1]}/${match[3]}`) !== NaN;\n\t\t} catch (_) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default function BirthDateValidator() {\n\n\treturn new FormValidator((value) => {\n\t\tif (!value) {\n\t\t\treturn null;\n\t\t}\n\t\tif (value instanceof Date) {\n\t\t\treturn null;\n\t\t}\n\t\tconst match = DATE_REGEXP.exec(value);\n\t\treturn match && isValidDate(value, match) ? null : {\n\t\t\tbirthDate: {\n\t\t\t\tvalid: false\n\t\t\t}\n\t\t};\n\t});\n\n}\n","\nexport class FormService {\n\n\tstatic toSelectOptions(options) {\n\t\toptions = options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\toptions.unshift({ id: null, name: 'select' });\n\t\treturn options;\n\t}\n\n}\n","import { Component, getContext } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { HttpService } from '../common/http/http.service';\nimport AgeValidator from '../controls/age.validator';\nimport BirthDateValidator from '../controls/birth-date.validator';\nimport { FormService } from '../controls/form.service';\n\nexport const DATE_REGEXP = new RegExp(/^(\\d{1,2})[\\/|\\-|\\s](\\d{1,2})[\\/|\\-|\\s](\\d{4})$/);\n\nexport class UrbanFormComponent extends Component {\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tthis.node = node;\n\t\tthis.currentStep = 0;\n\t\tthis.error = null;\n\t\tthis.success = false;\n\t\tconst form = this.form = new FormGroup({\n\t\t\tstep0: new FormGroup({\n\t\t\t\tpicture: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t}),\n\t\t\tstep1: new FormGroup({\n\t\t\t\tfirstName: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tlastName: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tbirthDate: new FormControl(null, [Validators.RequiredValidator(), BirthDateValidator(), AgeValidator(14)]),\n\t\t\t\ttelephone: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\n\t\t\t\taddress: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tcity: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tprovince: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tuserName: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tcategory: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t}),\n\t\t\tstep2: new FormGroup({\n\t\t\t\tparentFirstName: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tparentLastName: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tparentIdCard: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tparentTelephone: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\t\tparentEmail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\n\t\t\t}),\n\t\t\tstep3: new FormGroup({\n\t\t\t\trulesChecked: new FormControl(null, [Validators.RequiredValidator(), Validators.RequiredTrueValidator()]),\n\t\t\t\tprivacyChecked: new FormControl(null, [Validators.RequiredValidator(), Validators.RequiredTrueValidator()]),\n\t\t\t}),\n\t\t\tcheckRequest: window.antiforgery,\n\t\t\tcheckField: '',\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tconst province = controls.step1.controls.province;\n\t\tprovince.options = FormService.toSelectOptions(window.province.options);\n\t\tconst category = controls.step1.controls.category;\n\t\tcategory.options = FormService.toSelectOptions(window.category.options);\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tonNext(event) {\n\t\tlet group = this.controls[`step${this.currentStep}`];\n\t\tif (!group.valid) {\n\t\t\tObject.keys(group.controls).forEach(key => {\n\t\t\t\tgroup.controls[key].touched = true;\n\t\t\t});\n\t\t\t// group.touched = true;\n\t\t\treturn;\n\t\t}\n\t\t// console.log('onNext', this.currentStep, this.form);\n\t\tif (this.currentStep === 1 && this.isOfAge) {\n\t\t\tthis.currentStep = 3;\n\t\t} else if (this.currentStep === 1 && !this.isOfAge) {\n\t\t\tthis.currentStep = 2;\n\t\t} else if (this.currentStep < 3) {\n\t\t\tthis.currentStep++;\n\t\t}\n\t\tgroup = this.controls[`step${this.currentStep}`];\n\t\tgroup.touched = false;\n\t\tthis.pushChanges();\n\t}\n\n\tonPrev() {\n\t\tif (this.currentStep > 0) {\n\t\t\tthis.currentStep--;\n\t\t}\n\t\tthis.pushChanges();\n\t}\n\n\tget isOfAge() {\n\t\tconst birthDateValue = this.form.controls.step1.controls.birthDate.value;\n\t\tif (!birthDateValue) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst match = DATE_REGEXP.exec(birthDateValue);\n\t\t\tif (!match) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst date = new Date(`${match[2]}/${match[1]}/${match[3]}`);\n\t\t\t\tconst now = new Date();\n\t\t\t\tif (now.getFullYear() - date.getFullYear() > 18 ||\n\t\t\t\t\t(now.getFullYear() - date.getFullYear() == 18 && now.getMonth() - date.getMonth() > 0) ||\n\t\t\t\t\t(now.getFullYear() - date.getFullYear() == 18 && now.getMonth() - date.getMonth() == 0 && now.getDate() - date.getDate() >= 0)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tonSubmit(model) {\n\t\tconst form = this.form;\n\t\t// console.log('UrbanFormComponent.onSubmit', form.value, form);\n\t\tif (form.controls.step0.valid &&\n\t\t\tform.controls.step1.valid &&\n\t\t\t(this.isOfAge || form.controls.step2.valid) &&\n\t\t\tform.controls.step3.valid) {\n\t\t\tform.submitted = true;\n\t\t\tconst payload = Object.assign({\n\t\t\t\tcheckRequest: form.value.checkRequest,\n\t\t\t\tcheckField: form.value.checkField,\n\t\t\t},\n\t\t\t\tform.value.step0,\n\t\t\t\tform.value.step1,\n\t\t\t\tform.value.step2,\n\t\t\t\tform.value.step3\n\t\t\t);\n\t\t\tHttpService.post$('/', payload).pipe(\n\t\t\t\tfirst(),\n\t\t\t).subscribe(_ => {\n\t\t\t\tthis.success = true;\n\t\t\t\twindow.location.href = window.category.options.find(option => option.value === form.value.step1.category).url;\n\t\t\t}, error => {\n\t\t\t\tconsole.log('UrbanFormComponent.error', error);\n\t\t\t\tthis.error = error;\n\t\t\t\tthis.pushChanges();\n\t\t\t\t// window.location.href = window.category.options.find(option => option.value === form.value.step1.category).url;\n\t\t\t});\n\t\t} else {\n\t\t\tform.touched = true;\n\t\t}\n\t}\n\n\tonTest() {\n\t\tconst form = this.form;\n\t\tconst controls = this.controls;\n\t\tconst province = controls.step1.controls.province.options.length > 1 ? controls.step1.controls.province.options[1].id : null;\n\t\tconst category = controls.step1.controls.category.options.length > 1 ? controls.step1.controls.category.options[1].id : null;\n\t\tform.patch({\n\t\t\tstep1: {\n\t\t\t\tfirstName: 'Jhon',\n\t\t\t\tlastName: 'Appleseed',\n\t\t\t\tbirthDate: '22/04/1976',\n\t\t\t\ttelephone: '0721 411112',\n\t\t\t\temail: 'jhonappleseed@gmail.com',\n\t\t\t\taddress: 'Strada della Campanara, 15',\n\t\t\t\tcity: 'Pesaro',\n\t\t\t\tprovince: province,\n\t\t\t\tuserName: 'jappleseed',\n\t\t\t\tcategory: category,\n\t\t\t},\n\t\t\tstep3: {\n\t\t\t\trulesChecked: true,\n\t\t\t\tprivacyChecked: true,\n\t\t\t},\n\t\t\tcheckRequest: window.antiforgery,\n\t\t\tcheckField: ''\n\t\t});\n\t}\n}\n\nUrbanFormComponent.meta = {\n\tselector: '[urban-form]',\n};\n","import { Component, getContext } from 'rxcomp';\n\nexport class UrbanVideoComponent extends Component {\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tthis.node = node;\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tnode.addEventListener('click', this.onClick);\n\t}\n\n\tonDestroy() {\n\t\tconst node = this.node;\n\t\tnode.removeEventListener('click', this.onClick);\n\t}\n\n\tonClick() {\n\t\tconst node = this.node;\n\t\tconst video = node.querySelector('video');\n\t\tif (video.paused) {\n\t\t\tvideo.play();\n\t\t\tnode.classList.add('playing');\n\t\t} else {\n\t\t\tvideo.pause();\n\t\t\tnode.classList.remove('playing');\n\t\t}\n\t}\n\n}\n\nUrbanVideoComponent.meta = {\n\tselector: '[urban-video]',\n};\n","import { CoreModule, Module } from 'rxcomp';\nimport { FormModule } from 'rxcomp-form';\nimport { AppComponent } from './app.component';\nimport { CommonModule } from './common/common.module';\nimport { ControlsModule } from './controls/controls.module';\nimport { UrbanEnterComponent } from './urban-enter/urban-enter.component';\nimport { UrbanFormComponent } from './urban-form/urban-form.component';\nimport { UrbanVideoComponent } from './urban-video/urban-video.component';\n\nexport class AppModule extends Module { }\n\nAppModule.meta = {\n\timports: [\n\t\tCoreModule,\n\t\tFormModule,\n\t\tCommonModule,\n\t\tControlsModule,\n\t],\n\tdeclarations: [\n\t\tUrbanEnterComponent,\n\t\tUrbanFormComponent,\n\t\tUrbanVideoComponent,\n\t],\n\tbootstrap: AppComponent,\n};\n","import { Browser } from 'rxcomp';\nimport { AppModule } from './app.module';\n\nBrowser.bootstrap(AppModule);\n"]}